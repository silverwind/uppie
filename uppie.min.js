/*! uppie v1.0.10 | (c) silverwind | BSD license */
!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.Uppie=n()}("undefined"!=typeof self?self:this,function(){"use strict";return function(){return function(e,n){e instanceof NodeList?[].slice.call(e).forEach(function(e){i(e,n)}):i(e,n)}};function i(e,i){if("input"===e.tagName.toLowerCase()&&"file"===e.type)e.addEventListener("change",function(e){var n=e.target;n.files&&n.files.length?a(n,i.bind(null,e)):"getFilesAndDirectories"in n?t(n,i.bind(null,e)):i(e)});else{var n=function(e){e.preventDefault()};e.addEventListener("dragover",n),e.addEventListener("dragenter",n),e.addEventListener("drop",function(e){e.preventDefault();var n=e.dataTransfer;n.items&&n.items.length&&"webkitGetAsEntry"in n.items[0]?function(e,n){var a=new FormData,o=[],i=[];function r(e,t,i){t||(t=e.name),function i(t,e,a,o){var r=e||t.createReader();r.readEntries(function(e){var n=a?a.concat(e):e;e.length?setTimeout(i.bind(null,t,r,n,o),0):o(n)})}(e,0,0,function(e){var n=[];e.forEach(function(e){n.push(new Promise(function(i){e.isFile?e.file(function(e){var n=t+"/"+e.name;a.append("files[]",e,n),o.push(n),i()},i.bind()):r(e,t+"/"+e.name,i)}))}),Promise.all(n).then(i.bind())})}[].slice.call(e).forEach(function(e){(e=e.webkitGetAsEntry())&&i.push(new Promise(function(n){e.isFile?e.file(function(e){a.append("files[]",e,e.name),o.push(e.name),n()},n.bind()):e.isDirectory&&r(e,null,n)}))}),Promise.all(i).then(n.bind(null,a,o))}(n.items,i.bind(null,e)):"getFilesAndDirectories"in n?t(n,i.bind(null,e)):n.files?a(n,i.bind(null,e)):i()})}}function t(e,i){var o=new FormData,r=[],l=function(e,t,n){var a=[];e.forEach(function(i){a.push(new Promise(function(n){if("getFilesAndDirectories"in i)i.getFilesAndDirectories().then(function(e){l(e,i.path+"/",n)});else{if(i.name){var e=(t+i.name).replace(/^[/\\]/,"");o.append("files[]",i,e),r.push(e)}n()}}))}),Promise.all(a).then(n)};e.getFilesAndDirectories().then(function(n){new Promise(function(e){l(n,"/",e)}).then(i.bind(null,o,r))})}function a(e,n){var i=new FormData,t=[];[].slice.call(e.files).forEach(function(e){i.append("files[]",e,e.webkitRelativePath||e.name),t.push(e.webkitRelativePath||e.name)}),n(i,t)}});